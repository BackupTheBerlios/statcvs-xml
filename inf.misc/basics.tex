\section{Einfuehrung}
\subsection{Hintergrund}
%Maven was initially developed for buiding Turbine, Maven matured into an open source software engineering platform, The core functionality is automated project building, distribution and website creation 
%an easy way to publish project information and a way to share JARs across several projects.

\frame{
    \frametitle{Apache Maven}
    \begin{itemize}
        \item Build-Werzeug mit Projektverständnis
        \item in Java entwickelt
        \item gestartet von Jason van Zyl als Subprojekt von Apache Turbine
        \item inziwschen Toplevel-Projekt bei der ASF
        \item Basiert auf Jelly (XML Scripting Engine) %vorher antbasiert
        \item Plugin-Architektur %java halt
    \end{itemize}
    \vspace{0.5cm}
    Aktuelle Version ist 1.0-rc1 (Stand: Februar 2004)
}

% \frame{
%     \frametitle{Konzepte}
%     \begin{itemize}
%         \item Goals (=Targets)
%         \item Projekt-Metainformationen im sog. POM
%         \item Anpassung sämtlicher Parameter.
%         \item Verwaltung aller Projekt-Dependencies in einem Repository
%     \end{itemize}
% }

\subsection{Installation}
\frame[all:1]{
    \frametitle{Installation von Maven}
    \begin{enumerate}
        \item Download von http://maven.apache.org/start/download.html
        \item Entpacken (z.B. nach /usr/share/maven-1.0rc1)
        \item Umgebungsvariablen anpassen 
		  \begin{itemize}
          \item \verb+$MAVEN_HOME=/usr/share/maven-1.0rc1+
          \item \verb+$PATH+ erweitern um \verb+$MAVEN_HOME/bin+
          \end{itemize}
        \item (Optional) Lokales Repository erstellen 
		  \begin{itemize}
          \item \begin{alltt}\$MAVEN_HOME/bin/install_repo.sh \\  \$HOME/.maven/repository \end{alltt} 
            %\item Windows: \begin{alltt}\%MAVEN_HOME\%install_repo.bat \%HOME\%\.maven\repository\end{alltt}
          \end{itemize}
	\end{enumerate}
}

\subsection{Start}
\frame{
    \frametitle{Neues Projekt starten}
    Es gibt 2 Möglichkeiten, mit Maven zu beginnen:
    \begin{itemize}
        \item Manuell
        \item Automatisch
    \end{itemize}
    \vspace{0.5cm}
    \begin{block}{Projekt anlegen lassen}
        vanto@marvin > maven genapp
    \end{block}
    \vspace{0.5cm}
    \uncover<2>{\bf Demonstration}
}

\section{Konzepte}

\subsection[Verzeichnisse]{Verzeichnisstruktur}
\frame[all:1]{
    \frametitle{Verzeichnisstruktur}
    Maven wünscht sich eine besondere Projektgliederung
    \scriptsize\begin{alltt}
statcvs-xml
  + src
    - conf
    + java
      - ...
    + test
      - ...
    - resources
    - (webapp)
  + target
    + docs
    - ...
  + xdocs
    - images
    - styles
  - maven.xml
  - project.xml
  - project.properties
    \end{alltt}
}

\subsection[POM]{Projekt Object Model}
\frame{
    \frametitle{Projekt Object Model (POM)}

	Das POM wird in der Datei project.xml im Projektverzeichnis
	definiert und enthält Projekt-Metadaten.

    \begin{itemize}
    \item Projektname, -version, -beschreibung, -lizenz
    \item Projekt-Homepage, URL des Issue-Trackers und der Mailinglisten
    \item CVS-Repository (Versionen, Branches)
    \item Projekt-Team
    \item Dependencies (Bibliotheken)
    \item (Re-)Source-Verzeichnisse
    \item Projekt-Reports
    \end{itemize}
}

\subsection[Goals]{maven.xml}
\frame[all:1]{
    \frametitle{maven.xml}
        Enthält alle projektspezifischen Build-Targets, sogenannte Goals.
        \begin{itemize}
            \item Goals sind in Jelly-XML definierte Funktionen
            \item Jedes Goal hat ein Pre- und Post-Goal
            \item Start von der Konsole
            \item Start aus anderen Goals heraus
        \end{itemize}
    \begin{Beispiel}
        \scriptsize\begin{alltt}
<goal name="site-update" description="Updates the web site">
    <cvs command="-q update -Pd"/>
    <attainGoal name="clean"/>
    <attainGoal name="site:deploy"/>
</goal>\end{alltt}
    \end{Beispiel}
}

\frame{
    \frametitle{Plugin-Architektur}
    merging von maven.xml und properties
    reports melden sich an
}

\subsection[Properties]{Properties}
\frame{
    \frametitle{Konfigurierbarkeit}
    (Fast) alle Build- und Plugin-Parameter lassen sich anpassen.
    \begin{itemize}
        \item Definition in Property-Files
        \item{Vererbung der Properties
            \begin{enumerate}
                \item \begin{alltt}plugin.properties\end{alltt}
                \item \begin{alltt}\${maven.home}/bin/driver.properties\end{alltt}
                \item \begin{alltt}\${project.home}/project.properties\end{alltt}
                \item \begin{alltt}\${project.home}/build.properties\end{alltt}
                \item \begin{alltt}\${user.home}/build.properties\end{alltt}
            \end{enumerate}
        }
    \end{itemize}
    Lokale Anpassungen nur in den letzten beiden!
}

\frame{
    \frametitle{Repositories}
}

\frame[all:1]{
    \frametitle{Dokumentation}
    Sämtliche Projektdokumentation in {\bf xdoc}
    \begin{itemize}
        \item Erweitertes (X)HTML
        \item Muss well-formed sein
        \item Kann jedoch nicht validiert werden
        \item Ermöglicht einfache Gliederung
    \end{itemize}
    \begin{Beispiel}
        \scriptsize\begin{alltt}
<document>
  <properties>
    <title>Overview</title>
  </properties>
  <body>
    <section name="Overview">
      <p>The project goal is to develop a graphical user interface
         for programming a CPLD. The software is written in C++ and 
         based on QT.</p>
      ...\end{alltt}
    \end{Beispiel}
}

\subsection[Build]{Build}
\frame{
    \frametitle{Buildprozess starten}
}

\subsection[Dist]{Release erstellen}
\frame{
    \frametitle{Release erstellen}
}

\frame{
    \frametitle{Distribution deployen}
}

\subsection[Doc]{Dokumentation erstellen}
\frame{
    \frametitle{Dokumentation erstellen}
}

\frame{
    \frametitle{Dokumentation deployen}
}

\subsection{cleanup}
\frame{
    \frametitle{Sauber machen}
}


% 3 Kerndateien
% TARGET=GOAL (post/preGoal)
%A project is described with
%a XML Project Object
%Model (POM)
% The POM defines how to
%build a project and the
%external dependencies
% The Maven functionality is
%implemented in terms of
%plugins
% The plugins are written in
%Jelly
% JARs are downloaded
%from a remote repository
%and stored into a local
%repository
%\subsection{Architektur}
%grafik
%\subsection[POM]{Project Object Model}
% projekt eigenschaften
%\subsection[PP]{Project Properties}
% customizing von plugins
%\subsection{Repositories}

%\section{Beispiel}

%%% Local Variables: 
%%% TeX-master: "index"
%%% End: 
